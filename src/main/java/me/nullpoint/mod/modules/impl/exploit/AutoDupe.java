package me.nullpoint.mod.modules.impl.exploit;

import me.nullpoint.api.utils.entity.InventoryUtil;
import me.nullpoint.api.utils.world.BlockUtil;
import me.nullpoint.mod.modules.Beta;
import me.nullpoint.mod.modules.Module;
import me.nullpoint.mod.modules.impl.player.SpeedMine;
import me.nullpoint.mod.modules.settings.impl.BooleanSetting;
import net.minecraft.block.ShulkerBoxBlock;

@Beta
public class AutoDupe extends Module {
    public static AutoDupe INSTANCE;
    public AutoDupe() {
        super("AutoDupe", "2b2t.team", Category.Exploit);
        INSTANCE = this;
    }

    public final BooleanSetting rotate = this.add(new BooleanSetting("Rotate", false));

    @Override
    public void onUpdate() {
        if (SpeedMine.breakPos != null) {
            int shulker = InventoryUtil.findClass(ShulkerBoxBlock.class);
            if (shulker != -1 && BlockUtil.canPlace(SpeedMine.breakPos)) {
                int old = mc.player.getInventory().selectedSlot;
                InventoryUtil.switchToSlot(shulker);
                BlockUtil.placeBlock(SpeedMine.breakPos, rotate.getValue());
                InventoryUtil.switchToSlot(old);
            }
        }
    }
}
